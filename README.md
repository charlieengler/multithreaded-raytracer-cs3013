# Multithreaded CPU Raytracer

## Description

Raytracing is a problem which lends itself nicely to parallelization as rays can be individualized without relying on other rays. This inherently prevents race conditions which would introduces parallelization challenges. Writing the results of these ray calculations to a frame buffer is also trivially parallelizable as pixels in a frame don't care in what order they're drawn. Race conditions are only introduced when saving the frame buffers to a file as disk access is orders of magnitude slower than cache or memory access.

This project sought to create a simple CPU-bound raytracer which takes a formatted scene file and uses it to create a raytraced environment with simple gravity and collision physics. This scene is rendered to a bitmap file, which is added to a sequence and replayed as a video after rendering is complete.

## Setup

1. Clone this repository into its own directory
2. Examine the provided scene1.txt file
    - Note: This can be used as-is, or modified to create a custom scene
4. Run the ```make``` command to compile the project
5. Ensure the ffmpeg command line utility is installed on the host machine
6. Setup is complete

## Running the Program

1. Run the command ```./ray scene1.txt scene_out``` to generate all frames of the video from the scene file
2. Run the command ```ffmpeg -i scene_out-%05d.bmp scene_out.mpg``` to compile all frames generated by the program into a video using ffmpeg
3. Run the command ```vlc scene_out.mpg``` to play the compiled video

## Credits

Mark Sheahan

[Charlie Engler](https://github.com/charlieengler)

This project was completed for Mark Sheahan's CS 3013 (Operating Systems) course at Worcester Polytechnic Insitute. Most of the starter code, including physics and rendering logic, was written by Professor Sheahan and can be seen at the point of "Initial Commit". I implemented all of the parallelization logic and data structures in subsequent commits.
